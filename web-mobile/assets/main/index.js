window.__require=function t(e,o,i){function n(r,c){if(!o[r]){if(!e[r]){var a=r.split("/");if(a=a[a.length-1],!e[a]){var u="function"==typeof __require&&__require;if(!c&&u)return u(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+r+"'")}r=a}var h=o[r]={exports:{}};e[r][0].call(h.exports,function(t){return n(e[r][1][t]||t)},h,h.exports,t,e,o,i)}return o[r].exports}for(var s="function"==typeof __require&&__require,r=0;r<i.length;r++)n(i[r]);return n}({ActiveThing:[function(t,e,o){"use strict";cc._RF.push(e,"67b26qM4txMEb1Ryy0PaCtU","ActiveThing");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../constants/Constant"),c=t("../../constants/Messages"),a=cc._decorator,u=a.ccclass,h=a.property,p=a.menu,l=r.Constant.RunningState,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mode=l.Idle,e.isLoop=!1,e.isAuto=!1,e.cycleTimes=1,e.activeItems=[],e.callTag=0,e.targetNode=null,e._tikPast=0,e._itemCursor=0,e._cycleTimes=0,e}return n(e,t),e.prototype.onLoad=function(){this._initEvents()},e.prototype.onEnable=function(){this.isAuto&&(this.mode=l.Running),this.cycleTimes<1&&(this.cycleTimes=1),this._cycleTimes=this.cycleTimes,this._itemCursor=0,this._tikPast=0},e.prototype.start=function(){},e.prototype.update=function(t){this._calculate(t)},e.prototype._initEvents=function(){var t=this;this.node.on(c.Messages.Nodes.StateChangePause,function(){t.mode=l.Paused},this),this.node.on(c.Messages.Nodes.StateChangeRun,function(e,o){void 0===o&&(o=!0),o&&t.onEnable(),null!=e&&e!=t.callTag||(t.mode=l.Running)},this),this.node.on(c.Messages.Nodes.StateChangeStop,function(){t.mode=l.Stop},this),this.node.on(c.Messages.Nodes.ThingSetChangeActive,function(e){e&&(t.activeItems=e),t._itemCursor=0,t._tikPast=0},this)},e.prototype._calculate=function(t){switch(void 0===t&&(t=0),this.mode){case l.Running:if(this.activeItems.length<=0)return;this._tikPast=this._tikPast+t;break;default:return}if(this._tikPast>=this.activeItems[this._itemCursor].x&&(this.targetNode.active=0!=this.activeItems[this._itemCursor].y,this._tikPast=this._tikPast-this.activeItems[this._itemCursor].x,this._itemCursor++),this._itemCursor>=this.activeItems.length){if(this._itemCursor=0,this.isLoop)return;if(this._cycleTimes--,this._cycleTimes<1)return void(this.mode=l.Idle)}},s([h({type:cc.Enum(l)})],e.prototype,"mode",void 0),s([h],e.prototype,"isLoop",void 0),s([h],e.prototype,"isAuto",void 0),s([h({min:1})],e.prototype,"cycleTimes",void 0),s([h({type:[cc.Vec2],tooltip:"y=0 is using as inactive while others as active"})],e.prototype,"activeItems",void 0),s([h],e.prototype,"callTag",void 0),s([h(cc.Node)],e.prototype,"targetNode",void 0),s([u,p("Tweens/ActiveThing")],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../constants/Constant":"Constant","../../constants/Messages":"Messages"}],Algorithm:[function(t,e,o){"use strict";cc._RF.push(e,"b787bSQD99MK7hxOkzjZwQW","Algorithm"),Object.defineProperty(o,"__esModule",{value:!0}),o.Algorithm=void 0;var i=function(){function t(){}return t.easeSineIn=function(t){return 1-Math.cos(t*Math.PI/2)},t.easeSineOut=function(t){return Math.sin(t*Math.PI/2)},t.easeSineInOut=function(t){return-(Math.cos(Math.PI*t)-1)/2},t.easeCubicIn=function(t){return Math.pow(t,3)},t.easeCubicOut=function(t){return 1-Math.pow(1-t,3)},t.easeCubicInOut=function(t){return t<.5?4*Math.pow(t,3):1-Math.pow(-2*t+2,3)/2},t.easeBackIn=function(t){return 2.70158*t*t*t-1.70158*t*t},t.easeBackOut=function(t){return 1+2.70158*Math.pow(t-1,3)+1.70158*(t-1)*(t-1)},t.easeBackInOut=function(t){var e=2.5949095;return t<.5?Math.pow(2*t,2)*(7.189819*t-e)/2:(Math.pow(2*t-2,2)*((e+1)*(2*t-2)+e)+2)/2},t.easeBounceIn=function(t){return 1-this.easeBounceOut(1-t)},t.easeBounceOut=function(t){var e=7.5625,o=2.75;return t<1/o?e*t*t:t<2/o?e*(t-=1.5/o)*t+.75:t<2.5/o?e*(t-=2.25/o)*t+.9375:e*(t-=2.625/o)*t+.984375},t.easeBounceInOut=function(t){return t<.5?(1-this.easeBounceOut(1-2*t))/2:(1+this.easeBounceOut(2*t-1))/2},t}();o.Algorithm=i,cc._RF.pop()},{}],BorderShapeCycler:[function(t,e,o){"use strict";cc._RF.push(e,"6f1d9Hifc1AEKYBziYrrcKK","BorderShapeCycler");var i=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});const{ccclass:n,property:s}=cc._decorator;var r,c;(function(t){t[t.Idle=0]="Idle",t[t.Running=1]="Running"})(r||(r={})),function(t){t[t.Rect=0]="Rect",t[t.Circle=1]="Circle"}(c||(c={}));let a=class extends cc.Component{constructor(){super(...arguments),this.mode=r.Idle,this.shape=c.Rect,this.cycleNod=null,this.auto=!1,this.loop=!1,this.particleNodes=null,this.actorLim=2,this.actorSpeed=10,this._actorParticles=[],this._timePast=0,this._cycleCubeLim=cc.v2(),this._cycleRadius=1,this._angleDistance=360,this._offsetX=0,this._offsetXLim=1,this._offsetContain=[],this._offsetValueChange=[]}start(){this.Reset()}Reset(){switch(this.shape){case c.Rect:this._cycleCubeLim=cc.v2(this.cycleNod.getContentSize().width/2,this.cycleNod.getContentSize().height/2),this._cycleRadius=this._cycleCubeLim.mag();break;case c.Circle:this._cycleCubeLim=cc.v2(this.cycleNod.getContentSize().width/2,this.cycleNod.getContentSize().height/2),this._cycleRadius=this._cycleCubeLim.x}this._offsetXLim=this.cycleNod.getContentSize().width/2,this._angleDistance=360/this.actorLim,this._actorParticles.push(this.particleNodes.children[0].getComponent(cc.ParticleSystem));let t=this.particleNodes.childrenCount;for(let e=1;e<this.actorLim;e++){let o=e<t?this.particleNodes.children[e]:cc.instantiate(this.particleNodes.children[0]);e>=t&&o.setParent(this.particleNodes),this._actorParticles.push(o.getComponent(cc.ParticleSystem))}this.loop&&this._actorParticles.forEach(t=>{t.duration=-1}),this.auto&&(this.mode=r.Running,this._actorParticles.forEach(t=>{t.resetSystem()}))}update(t){this._behave(t)}_behave(t){switch(this.mode){case r.Running:this._timePast+=t*this.actorSpeed,this._offsetX=Math.sin(this._timePast)*this._cycleRadius;break;default:return}this._calculateOffsetForAll()}_calculateOffsetForAll(){this._offsetContain.splice(0);let t=cc.v2(this._offsetX,Math.sqrt(Math.pow(this._cycleRadius,2)-Math.pow(this._offsetX,2)));null==this._offsetValueChange[0]?this._offsetValueChange[0]=t.x:t.x<this._offsetValueChange[0]&&(t.y*=-1),this._offsetValueChange[0]=t.x,this._offsetContain.push(t);for(let e=1;e<this.actorLim;e++){let o=t.rotate(cc.misc.degreesToRadians(e*this._angleDistance)),i=cc.v2(0,1).rotate(cc.misc.degreesToRadians(e*this._angleDistance));null==this._offsetValueChange[e]?this._offsetValueChange[e]=o.x:o.x<this._offsetValueChange[e]&&(o.y*=(i.x-i.y)/Math.abs(i.x-i.y)),this._offsetValueChange[e]=o.x,this._offsetContain.push(o)}this._offsetContain.forEach((t,e)=>{this._offsetContain[e]=cc.v2(cc.misc.clampf(t.x,-this._cycleCubeLim.x,this._cycleCubeLim.x),cc.misc.clampf(t.y,-this._cycleCubeLim.y,this._cycleCubeLim.y))}),this._actorParticles.forEach((t,e)=>{t.node.setPosition(this._offsetContain[e])})}};i([s({type:cc.Enum(r)})],a.prototype,"mode",void 0),i([s({type:cc.Enum(c)})],a.prototype,"shape",void 0),i([s(cc.Node)],a.prototype,"cycleNod",void 0),i([s],a.prototype,"auto",void 0),i([s],a.prototype,"loop",void 0),i([s(cc.Node)],a.prototype,"particleNodes",void 0),i([s],a.prototype,"actorLim",void 0),i([s],a.prototype,"actorSpeed",void 0),a=i([n],a),o.default=a,cc._RF.pop()},{}],BoxRadius:[function(t,e,o){"use strict";cc._RF.push(e,"a0a63RzGs1Kg5td6Ck8BiFc","BoxRadius");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.BoxRadius=void 0;var r=t("../../constants/Messages"),c=cc._decorator,a=c.ccclass,u=c.property,h=c.executeInEditMode,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._ratioX=.5,e._ratioY=.5,e.useOutline=!1,e._outlineColor=cc.Color.WHITE,e._outlineWidth=1,e._mat=null,e}return n(e,t),Object.defineProperty(e.prototype,"ratioX",{get:function(){return this._ratioX},set:function(t){this._ratioX=t>.5?t/this.node.width:t,this.onUpdateMat()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ratioY",{get:function(){return this._ratioY},set:function(t){this._ratioY=t>.5?t/this.node.height:t,this.onUpdateMat()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outlineColor",{get:function(){return this._outlineColor},set:function(t){this._outlineColor=t,this.onUpdateMat()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outlineWidth",{get:function(){return this._outlineWidth},set:function(t){this._outlineWidth=t,this.onUpdateMat()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.node.on(r.Messages.Nodes.BoxRadiusChangeRatio,this.setRadiusRatio,this),this.node.on(r.Messages.Nodes.BoxRadiusChangeSize,this.setRadiusSize,this)},e.prototype.start=function(){this._mat||(this._mat=this.node.getComponent(cc.Sprite).getMaterial(0)),this.onUpdateMat()},e.prototype.setRadiusRatio=function(t,e){null!=t&&(this._ratioX=t),null!=e&&(this._ratioY=e),this.onUpdateMat()},e.prototype.setRadiusSize=function(t,e){null!=t&&(this._ratioX=t/this.node.width),null!=e&&(this._ratioY=e/this.node.height),this.onUpdateMat()},e.prototype.onUpdateMat=function(){this._mat||(this._mat=this.node.getComponent(cc.Sprite).getMaterial(0));var t=this._mat,e=this.node.width,o=this.node.height,i=cc.v2(e*this.ratioX,o*this.ratioY);t.setProperty("size",cc.v2(e,o)),t.setProperty("leftTop",i),t.setProperty("leftBottom",i),t.setProperty("rightTop",i),t.setProperty("rightBottom",i);var n,s,r,c,a=this.node.getComponent(cc.Sprite).spriteFrame;n=a.uv[0],c=a.uv[5],s=a.uv[6],r=a.uv[3];var u=new cc.Vec4(n,c,s,r),h=a.isRotated()?1:0;t.setProperty("u_uvOffset",u),t.setProperty("u_uvRotated",h),t.define("USE_OUTLINE",this.useOutline),this.useOutline&&(t.setProperty("outlineColor",this.outlineColor),t.setProperty("outlineWidth",this.outlineWidth))},s([u],e.prototype,"_ratioX",void 0),s([u({type:cc.Float,min:0,max:1,step:.01})],e.prototype,"ratioX",null),s([u],e.prototype,"_ratioY",void 0),s([u({type:cc.Float,min:0,max:1,step:.01})],e.prototype,"ratioY",null),s([u],e.prototype,"useOutline",void 0),s([u],e.prototype,"_outlineColor",void 0),s([u({type:cc.Color,visible:function(){return this.useOutline}})],e.prototype,"outlineColor",null),s([u],e.prototype,"_outlineWidth",void 0),s([u({type:cc.Integer,visible:function(){return this.useOutline}})],e.prototype,"outlineWidth",null),s([a,h],e)}(cc.Component);o.BoxRadius=p,cc._RF.pop()},{"../../constants/Messages":"Messages"}],CanvasUtil:[function(t,e,o){"use strict";cc._RF.push(e,"9e7bdGzmehDW71fpn9mM3Zv","CanvasUtil"),Object.defineProperty(o,"__esModule",{value:!0}),o.setUIResolution=o.setDesignResolution=void 0,o.setDesignResolution=function(){var t=cc.find("Canvas").getComponent(cc.Canvas),e=cc.view.getFrameSize(),o=cc.view.getDesignResolutionSize();e.width/e.height<=o.width/o.height?(t.fitWidth=!1,t.fitHeight=!0):(t.fitWidth=!0,t.fitHeight=!1)},o.setUIResolution=function(t){if(t){t instanceof cc.Node&&(t=[t]);var e=cc.view.getFrameSize(),o=cc.view.getDesignResolutionSize(),i=e.width/e.height/(o.width/o.height);cc.log(i),t.forEach(function(t){return t.scale=i})}},cc._RF.pop()},{}],CaptureMask:[function(t,e,o){"use strict";cc._RF.push(e,"dfe82kFCapDx7l9OhNM92kV","CaptureMask");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r,c=t("./GussainBlur/GussainBlur"),a=cc._decorator,u=a.ccclass,h=a.property;(function(t){t[t.Base=0]="Base",t[t.Blur=1]="Blur"})(r||(r={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.camera=null,e.captureSpr=null,e.rootNode=null,e.captureRatio=1,e.alignWinCenter=!1,e.once=!0,e.useBlur=!1,e.baseMats=[],e._lastCaptureTexture=null,e._lastSpriteFrame=null,e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.onEnable=function(){var t=this;this.scheduleOnce(function(){t.once?t.doCapture():t.alwaysCapture()}),this.camera&&(this.camera.clearFlags=cc.Camera.ClearFlags.COLOR|cc.Camera.ClearFlags.DEPTH|cc.Camera.ClearFlags.STENCIL,this.camera.backgroundColor=cc.color(0,0,0,0))},e.prototype.onDisable=function(){this.rootNode.opacity=255},e.prototype.resetPosition=function(){this.alignWinCenter&&this.node.setPosition(.5*cc.winSize.width,.5*cc.winSize.height)},e.prototype.doCapture=function(){var t=this;this.resetPosition();var e=cc.winSize.width,o=cc.winSize.height;cc.isValid(this._lastCaptureTexture)&&this._lastCaptureTexture.destroy(),cc.isValid(this._lastSpriteFrame)&&this._lastSpriteFrame.destroy(),this.captureSpr.spriteFrame=null;var i=new cc.RenderTexture;if(i.initWithSize(e/this.captureRatio,o/this.captureRatio,cc.game._renderContext.STENCIL_INDEX8),this._lastCaptureTexture=i,this.camera.targetTexture=i,this.camera.node.active=!0,this.rootNode.opacity=255,this.camera.render(this.rootNode),this.rootNode.opacity=0,this.camera.node.active=!1,this.camera.targetTexture=null,this.captureSpr.spriteFrame=new cc.SpriteFrame(i),this._lastSpriteFrame=this.captureSpr.spriteFrame,this.once&&this.useBlur){this.captureSpr.setMaterial(0,this.baseMats[r.Blur]),this.captureSpr.getMaterial(0).setProperty("textureSize",cc.v2(e,o)),this.captureSpr.node.getComponent(c.default).updateBlur();var n=this.node.getComponent(c.default);this.scheduleOnce(function(){t.scheduleOnce(function(){var i=t.rootNode;t.rootNode=t.node;var n=new cc.RenderTexture;n.initWithSize(e/t.captureRatio,o/t.captureRatio,cc.game._renderContext.STENCIL_INDEX8),t.camera.targetTexture=n,t.camera.node.active=!0,t.camera.render(t.rootNode),t.camera.targetTexture=null,t.camera.node.active=!1,t.captureSpr.spriteFrame=new cc.SpriteFrame(n),t.captureSpr.setMaterial(0,t.baseMats[r.Base]),t._lastCaptureTexture.destroy(),t._lastSpriteFrame.destroy(),t._lastCaptureTexture=n,t._lastSpriteFrame=t.captureSpr.spriteFrame,t.rootNode=i})},n?n.dura:0)}this.captureSpr.node.scaleY=-this.captureRatio},e.prototype.alwaysCapture=function(){cc.log("alwaysCapture"),this.resetPosition();var t=cc.winSize.width,e=cc.winSize.height;cc.isValid(this._lastCaptureTexture)&&this._lastCaptureTexture.destroy(),cc.isValid(this._lastSpriteFrame)&&this._lastSpriteFrame.destroy(),this.captureSpr.spriteFrame=null;var o=new cc.RenderTexture;o.initWithSize(t/this.captureRatio,e/this.captureRatio,cc.RenderTexture.DepthStencilFormat.RB_FMT_D24S8),this._lastCaptureTexture=o,this.camera.targetTexture=o,this.camera.node.active=!0,this.camera.render(this.rootNode),this.captureSpr.spriteFrame=new cc.SpriteFrame(o),this._lastSpriteFrame=this.captureSpr.spriteFrame,this.captureSpr.node.scaleY=-this.captureRatio,this.useBlur&&(this.captureSpr.setMaterial(0,this.baseMats[r.Blur]),this.captureSpr.getMaterial(0).setProperty("textureSize",cc.v2(t,e)),this.captureSpr.node.getComponent(c.default).updateBlur())},s([h(cc.Camera)],e.prototype,"camera",void 0),s([h(cc.Sprite)],e.prototype,"captureSpr",void 0),s([h(cc.Node)],e.prototype,"rootNode",void 0),s([h],e.prototype,"captureRatio",void 0),s([h],e.prototype,"alignWinCenter",void 0),s([h],e.prototype,"once",void 0),s([h],e.prototype,"useBlur",void 0),s([h([cc.Material])],e.prototype,"baseMats",void 0),s([u],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./GussainBlur/GussainBlur":"GussainBlur"}],CircleGradient:[function(t,e,o){"use strict";cc._RF.push(e,"414e6CTmbRLCZgJAROfmzC6","CircleGradient");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,a=r.property,u=r.executeInEditMode,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._color=cc.Color.WHITE,e._oPoint=cc.v2(.5,.5),e._radius=cc.v2(.3,.5),e._mat=null,e}return n(e,t),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){this._color=t,this.updateProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oPoint",{get:function(){return this._oPoint},set:function(t){this._oPoint.set(t),this.updateProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this._radius},set:function(t){this._radius.set(t),this.updateProperties()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._mat=this.node.getComponent(cc.Sprite).getMaterial(0),this.updateProperties()},e.prototype.start=function(){},e.prototype.updateProperties=function(){this._mat||(this._mat=this.node.getComponent(cc.Sprite).getMaterial(0)),this._mat.setProperty("colorAmbient",this._color),this._mat.setProperty("oPoint",this._oPoint),this._mat.setProperty("radius",this._radius)},s([a],e.prototype,"_color",void 0),s([a],e.prototype,"color",null),s([a],e.prototype,"_oPoint",void 0),s([a],e.prototype,"oPoint",null),s([a],e.prototype,"_radius",void 0),s([a],e.prototype,"radius",null),s([c,u],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],Constant:[function(t,e,o){"use strict";cc._RF.push(e,"9dcf3hDzTpKsaSZ8hQdFiWx","Constant"),Object.defineProperty(o,"__esModule",{value:!0}),o.Constant=void 0,function(t){(function(t){t[t.easeSineIn=0]="easeSineIn",t[t.easeSineOut=1]="easeSineOut",t[t.easeSineInOut=2]="easeSineInOut",t[t.easeCubicIn=3]="easeCubicIn",t[t.easeCubicOut=4]="easeCubicOut",t[t.easeCubicInOut=5]="easeCubicInOut",t[t.easeBackIn=6]="easeBackIn",t[t.easeBackOut=7]="easeBackOut",t[t.easeBackInOut=8]="easeBackInOut",t[t.easeBounceIn=9]="easeBounceIn",t[t.easeBounceOut=10]="easeBounceOut",t[t.easeBounceInOut=11]="easeBounceInOut"})(t.EaseAction||(t.EaseAction={})),t.EaseFunction=["easeSineIn","easeSineOut","easeSineInOut","easeCubicIn","easeCubicOut","easeCubicInOut","easeBackIn","easeBackOut","easeBackInOut","easeBounceIn","easeBounceOut","easeBounceInOut"],function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Up=2]="Up",t[t.Down=3]="Down"}(t.Direction||(t.Direction={})),function(t){t[t.Idle=0]="Idle",t[t.Running=1]="Running",t[t.Awaiting=2]="Awaiting",t[t.Paused=3]="Paused",t[t.Stop=4]="Stop"}(t.RunningState||(t.RunningState={})),function(t){t[t.EnterAni=0]="EnterAni",t[t.LoadData=1]="LoadData",t[t.DataReady=2]="DataReady",t[t.Awaiting=3]="Awaiting",t[t.ExitAni=4]="ExitAni"}(t.SceneStage||(t.SceneStage={})),function(t){t[t.NewStart=0]="NewStart",t[t.OldStory=1]="OldStory",t[t.Settings=2]="Settings",t[t.Thanking=3]="Thanking",t[t.Quit=4]="Quit"}(t.MainSceneFunc||(t.MainSceneFunc={})),function(t){t[t.EnterBattle=0]="EnterBattle"}(t.DialogueEndStatus||(t.DialogueEndStatus={}))}(o.Constant||(o.Constant={})),cc._RF.pop()},{}],CoordinateUtil:[function(t,e,o){"use strict";cc._RF.push(e,"2951bvNmohDUoB8VbdD+UzL","CoordinateUtil"),Object.defineProperty(o,"__esModule",{value:!0}),o.GetNodePoints=o.ConvertNodeToNodeByCamera=o.ConvertNodeToNode=o.ConvertTouchToNode=void 0,o.ConvertTouchToNode=function(t,e,o){return e.convertToNodeSpaceAR(o.getScreenToWorldPoint(t))},o.ConvertNodeToNode=function(t,e){return e.convertToNodeSpaceAR(t.parent.convertToWorldSpaceAR(t.getPosition()))},o.ConvertNodeToNodeByCamera=function(t,e,o,i){return i||(i=e),o.convertToNodeSpaceAR(i.getScreenToWorldPoint(e.getWorldToScreenPoint(t.convertToWorldSpaceAR(cc.v2()))))},o.GetNodePoints=function(t,e){void 0===e&&(e=0);var o=t.getContentSize(),i=t.getAnchorPoint(),n=cc.v2(-i.x*o.width+e,(1-i.y)*o.height-e),s=cc.v2((1-i.x)*o.width-e,(1-i.y)*o.height-e),r=cc.v2(-i.x*o.width+e,-i.y*o.height+e);return[n,s,cc.v2((1-i.x)*o.width-e,-i.y*o.height+e),r]},cc._RF.pop()},{}],DebugHelper:[function(t,e,o){"use strict";cc._RF.push(e,"b220cfwRidLw7oSW0L+qB7n","DebugHelper"),Object.defineProperty(o,"__esModule",{value:!0}),o.LogMethodCalls=void 0,o.LogMethodCalls=function(t,e){return void 0===t&&(t=""),void 0===e&&(e=[]),function(o){Object.getOwnPropertyNames(o.prototype).forEach(function(i){for(var n,s=i.toLocaleString(),r=0,c=e;r<c.length;r++){var a=c[r];if(s.includes(a))return}if("function"!=typeof(null===(n=Object.getOwnPropertyDescriptor(o.prototype,i))||void 0===n?void 0:n.get)){var u=o.prototype[i];"constructor"!==i&&"function"==typeof u&&(o.prototype[i]=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var n=(new Date).toLocaleTimeString();console.log("["+n+"] ["+t+"] Calling method: "+i+" with arguments:",e);var s=u.apply(this,e);return console.log("["+t+"] Method: "+i+" returned:",s),s})}})}},cc._RF.pop()},{}],FadeThing:[function(t,e,o){"use strict";cc._RF.push(e,"e2b008SWPxORaVOZ6p1COWW","FadeThing");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../constants/Algorithm"),c=t("../../constants/Constant"),a=t("../../constants/Messages"),u=cc._decorator,h=u.ccclass,p=u.property,l=u.menu,d=c.Constant.EaseAction,f=c.Constant.EaseFunction,_=c.Constant.RunningState,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mode=_.Idle,e.isConstantSpeed=!1,e._easeAction=d.easeCubicIn,e.isLoop=!1,e.isAuto=!1,e.cycleTimes=1,e.fadeItems=[],e.callTag=0,e._tikPast=0,e._itemCursor=0,e._opacityOff=0,e._numPrevious=0,e._numPer=0,e._cycleTimes=0,e._easeFunction=null,e}return n(e,t),Object.defineProperty(e.prototype,"easeAction",{get:function(){return this._easeAction},set:function(t){this._easeAction=t,this._easeFunction=r.Algorithm[f[t]]},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._initEvents(),this._easeFunction=r.Algorithm[f[this._easeAction]]},e.prototype.onEnable=function(){this.isAuto&&(this.mode=_.Running),this.cycleTimes<1&&(this.cycleTimes=1),this._cycleTimes=this.cycleTimes,this._itemCursor=0,this._tikPast=0,this._numPrevious=this.node.opacity},e.prototype.start=function(){},e.prototype.update=function(t){this._calculate(t)},e.prototype._initEvents=function(){var t=this;this.node.on(a.Messages.Nodes.StateChangePause,function(){t.mode=_.Paused},this),this.node.on(a.Messages.Nodes.StateChangeRun,function(e,o){void 0===o&&(o=!0),o&&t.onEnable(),null!=e&&e!=t.callTag||(t.mode=_.Running)},this),this.node.on(a.Messages.Nodes.StateChangeStop,function(){t.mode=_.Stop},this),this.node.on(a.Messages.Nodes.ThingSetChangeFade,function(e){e&&(t.fadeItems=e),t._itemCursor=0,t._tikPast=0},this)},e.prototype._calculate=function(t){switch(void 0===t&&(t=0),this.mode){case _.Running:if(this.fadeItems.length<=0)return;this._tikPast=this._tikPast+t,this._numPer=this.isConstantSpeed?this._tikPast/this.fadeItems[this._itemCursor].x:this._easeFunction(this._tikPast/this.fadeItems[this._itemCursor].x),this._opacityOff=this._numPer*(this.fadeItems[this._itemCursor].y-this._numPrevious);break;default:return}if(this.node.opacity=this._numPrevious+this._opacityOff,this._tikPast>=this.fadeItems[this._itemCursor].x&&(this.node.opacity=this.fadeItems[this._itemCursor].y,this._tikPast=this._tikPast-this.fadeItems[this._itemCursor].x,this._numPrevious=this.fadeItems[this._itemCursor].y,this._itemCursor++),this._itemCursor>=this.fadeItems.length){if(this._itemCursor=0,this.isLoop)return;if(this._cycleTimes--,this._cycleTimes<1)return void(this.mode=_.Idle)}},s([p({type:cc.Enum(_)})],e.prototype,"mode",void 0),s([p],e.prototype,"isConstantSpeed",void 0),s([p],e.prototype,"_easeAction",void 0),s([p({type:cc.Enum(d),visible:function(){return!this.isConstantSpeed}})],e.prototype,"easeAction",null),s([p],e.prototype,"isLoop",void 0),s([p],e.prototype,"isAuto",void 0),s([p({min:1})],e.prototype,"cycleTimes",void 0),s([p([cc.Vec2])],e.prototype,"fadeItems",void 0),s([p],e.prototype,"callTag",void 0),s([h,l("Tweens/FadeThing")],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../constants/Algorithm":"Algorithm","../../constants/Constant":"Constant","../../constants/Messages":"Messages"}],FormatUtil:[function(t,e,o){"use strict";var i;cc._RF.push(e,"2718dWV/VlFfoPSvjc2ZZq/","FormatUtil"),Object.defineProperty(o,"__esModule",{value:!0}),o.stringFormat=o.enumKeys=o.timeCostFormat=o.dateFormat=o.FormatsEnums=void 0,function(t){t.YMD="Ymd",t.Y_M_D="Y-m-d",t.Y_M_D_H_I_S="Y-m-d H:i:s",t.H_I_S="H:i:s",t.I_S="i:s",t._YMD="Y\u5e74m\u6708d\u65e5",t._YMDHIS="Y\u5e74m\u6708d\u65e5 H\u65f6i\u5206"}(i=o.FormatsEnums||(o.FormatsEnums={}));var n=function(t){return t<10?"0"+t:t};function s(t,e){void 0===e&&(e=1);var o=isNaN(parseFloat(t));return 1==e?o:!o}o.dateFormat=function(t,e){e=e||i.Y_M_D_H_I_S;var o=t?new Date(t):new Date,s=o.getFullYear(),r=n(o.getMonth()+1),c=n(o.getDate()),a=n(o.getHours()),u=n(o.getMinutes()),h=n(o.getSeconds());return e.replace(/Y|m|d|H|i|s/gi,function(t){return{Y:s,m:r,d:c,H:a,i:u,s:h}[t]})},o.timeCostFormat=function(t){var e=Math.floor(t/3600);t-=3600*e;var o=n(e),s=Math.floor(t/60);t-=60*s;var r=n(s),c=n(t);return(e>0?i.H_I_S:i.I_S).replace(/H|i|s/gi,function(t){return{H:o,i:r,s:c}[t]})},o.enumKeys=function(t,e){void 0===e&&(e=0);var o=Object.keys(t);if(e>0)for(var i=o.length-1;i>=0;i--)s(o[i],e)||o.splice(i,1);return o},o.stringFormat=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return t.replace(/{(\d+)}/g,function(t,o){var i=parseInt(o,10);if(i<0||i>=e.length)throw new Error("Argument index out of range: "+o);return e[i]})},cc._RF.pop()},{}],GussainBlur:[function(t,e,o){"use strict";cc._RF.push(e,"8e5066a+FdBpK3N7fzJz6bc","GussainBlur");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,a=r.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blurRadius=4,e.dura=.2,e._curSpr=null,e._blurMat=null,e}return n(e,t),e.prototype.onLoad=function(){this._curSpr=this.node.getComponent(cc.Sprite),this._blurMat=this._curSpr.getMaterial(0)},e.prototype.onEnable=function(){},e.prototype.updateBlur=function(){var t=this;this._blurMat=this.node.getComponent(cc.Sprite).getMaterial(0);var e=this._blurMat.getProperty("textureSize",0),o=cc.v2(e[0],e[1]),i={val:8/this.blurRadius*8};cc.tween(i).to(this.dura,{val:8/this.blurRadius},{progress:function(e,i,n,s){var r=cc.misc.lerp(e,i,s);return t._blurMat.setProperty("textureSize",o.mul(r)),r}}).start()},s([a],e.prototype,"blurRadius",void 0),s([a],e.prototype,"dura",void 0),s([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],HttpUtil:[function(t,e,o){"use strict";cc._RF.push(e,"467b2I+/SJIWbDWZKNxMwoO","HttpUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i={headers:{"Content-Type":"application/json"},timeout:5e3},n=function(){function t(){}return t.post=function(t,e,o){axios.post(t,e,i).then(function(t){cc.log(t),o&&o(t.data)}).catch(function(t){cc.error(t),o&&o(null)})},t.get=function(){},t.defInfoUrl="https://fq6ac3utonkimki5rkacu24tom0tvthr.lambda-url.ap-northeast-1.on.aws/",t.defResPrefix="http://localhost:3000/",t}();o.default=n,cc._RF.pop()},{}],InitThing:[function(t,e,o){"use strict";cc._RF.push(e,"b5fe9vQXh9M8ZzI4EQBiTlV","InitThing");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,a=r.property,u=r.menu,h=r.executionOrder,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.initPosition=new cc.Vec4,e.initScale=new cc.Vec4(0,1,1,1),e.initOpacity=cc.v2(0,255),e.initActive=cc.v2(0,1),e}return n(e,t),e.prototype.onLoad=function(){0!=this.initPosition.x&&this.node.setPosition(this.initPosition.y,this.initPosition.z,this.initPosition.w),0!=this.initScale.x&&this.node.setScale(this.initScale.y,this.initScale.z,this.initScale.w),0!=this.initOpacity.x&&(this.node.opacity=this.initOpacity.y),0!=this.initActive.x&&(this.node.active=0!=this.initActive.y)},e.prototype.start=function(){},s([a],e.prototype,"initPosition",void 0),s([a],e.prototype,"initScale",void 0),s([a],e.prototype,"initOpacity",void 0),s([a],e.prototype,"initActive",void 0),s([c,u("Tweens/InitThing"),h(-1)],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],LayerLayout:[function(t,e,o){"use strict";cc._RF.push(e,"d745bg8F3NDRYAQ5SaDdAqb","LayerLayout");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,a=r.property,u=r.executeInEditMode,h=r.executionOrder,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.totalRows=1,e.rowCount=0,e.offset=cc.v2(),e.chdScale=1,e.itemSize=cc.v2(),e.autoInit=!1,e.totalCount=0,e.inEditor=!1,e}return n(e,t),e.prototype.onEnable=function(){this._resortLayer()},e.prototype.reset=function(t,e,o,i,n,s){null!=t&&(this.totalRows=t),null!=e&&(this.rowCount=e),null!=o&&(this.offset=o),null!=i&&(this.chdScale=i),null!=n&&(this.autoInit=n),null!=s&&(this.totalCount=s),this._resortLayer()},e.prototype.checkNearestIdx=function(t){var e=this.node.children[0],o=this.chdScale,i=(this.itemSize.x||e.width)*o+this.offset.x,n=(this.itemSize.y||e.height)*o+this.offset.y,s=-(.5*this.rowCount-.5)*i,r=(.5*this.totalRows-.5)*n;return[Math.round((r-t.y)/n),Math.round((t.x-s)/i)]},e.prototype._resortLayer=function(){var t=this.node.childrenCount;if(!(t<=0)){var e=this.node.children,o=e[0];if(this.autoInit&&t<this.totalCount){for(var i=t;i<this.totalCount;i++){var n=cc.instantiate(o);this.node.addChild(n)}t=this.totalCount}var s=this.chdScale,r=(this.itemSize.x||o.width)*s+this.offset.x,c=(this.itemSize.y||o.height)*s+this.offset.y,a=-(.5*this.rowCount-.5)*r,u=(.5*this.totalRows-.5)*c,h=t-this.rowCount*(this.totalRows-1),p=-(.5*h-.5)*r;for(i=0;i<this.totalRows;i++)for(var l=u-i*c,d=0;d<(i==this.totalRows-1?h:this.rowCount);d++){if(n=e[i*this.rowCount+d],!cc.isValid(n))return void cc.error("Out of children index, please check");var f=i==this.totalRows-1?p:a;n.setPosition(f+r*d,l),n.scale=s}}},s([a({tooltip:"total rows num"})],e.prototype,"totalRows",void 0),s([a({tooltip:"item num in row"})],e.prototype,"rowCount",void 0),s([a],e.prototype,"offset",void 0),s([a],e.prototype,"chdScale",void 0),s([a],e.prototype,"itemSize",void 0),s([a({tooltip:"please add at least one node!"})],e.prototype,"autoInit",void 0),s([a({visible:function(){return this.autoInit}})],e.prototype,"totalCount",void 0),s([a],e.prototype,"inEditor",void 0),s([c,u,h(-1)],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],ListView:[function(t,e,o){"use strict";cc._RF.push(e,"8a0afBzbHRD2Y5cIA1s3tRs","ListView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,a=r.property,u=r.requireComponent,h=new Set,p=cc.v3(),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tmpItem=null,e.spaceY=0,e.scrollView=null,e.itemHeight=0,e.itemPool=new cc.NodePool,e.dataSource=[],e.visibleHeight=0,e.spawnCount=0,e.visibleNodes=new Map,e.delegate={items:function(){return[]}},e.lastY=Number.MIN_SAFE_INTEGER,e}return n(e,t),e.prototype.onLoad=function(){this.scrollView=this.getComponent(cc.ScrollView),this.itemHeight=this.tmpItem.height,this.itemPool.put(this.tmpItem),this.visibleHeight=this.node.height,this.spawnCount=Math.round(this.visibleHeight/this.itemHeight)+1,this.ensure(this.spawnCount)},e.prototype.start=function(){},e.prototype.setDelegate=function(t){this.delegate=t},e.prototype.reload=function(){var t=this;this.dataSource=this.delegate.items();var e=this.itemHeight*this.dataSource.length+this.spaceY*Math.max(0,this.dataSource.length-1);this.scrollView.content.height=e,this.scrollView.content.children.slice().forEach(function(e){t.delegate.unuse&&t.delegate.unuse(e),t.itemPool.put(e)}),this.visibleNodes.clear(),this.scrollView.stopAutoScroll(),this.scrollView.scrollToTop(0,!1),this.lastY=Number.MIN_SAFE_INTEGER,cc.log("ListView reload totalCount:",this.dataSource.length)},e.prototype.ensure=function(t){for(;this.itemPool.size()<t;)this.itemPool.put(cc.instantiate(this.tmpItem))},e.prototype.lateUpdate=function(){var t=this,e=Math.floor(this.scrollView.getScrollOffset().y);this.lastY!=e&&(this.lastY=e,this.getVisibleItemIndex(e),this.visibleNodes.forEach(function(e,o){h.has(o)||(t.delegate.unuse&&t.delegate.unuse(e),t.itemPool.put(e),t.visibleNodes.delete(o))}),h.forEach(function(e){if(!t.visibleNodes.has(e)){t.ensure(1);var o=t.itemPool.get();o.getPosition(p),p.y=(-e-.5)*t.itemHeight-t.spaceY*e,o.setPosition(p),o.parent=t.scrollView.content,t.delegate.reuse&&t.delegate.reuse(o,t.dataSource[e]),t.visibleNodes.set(e,o)}}))},e.prototype.getVisibleItemIndex=function(t){var e=Math.max(0,Math.floor(t/(this.itemHeight+this.spaceY))),o=0==e?this.spawnCount:Math.round((t+this.visibleHeight)/(this.itemHeight+this.spaceY)),i=this.dataSource.length;(o=Math.min(o,i))==i&&(e=Math.max(0,i-this.spawnCount)),h.clear();for(var n=e;n<e+this.spawnCount&&n<i;n++)h.add(n)},s([a(cc.Node)],e.prototype,"tmpItem",void 0),s([a],e.prototype,"spaceY",void 0),s([c,u(cc.ScrollView)],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],MathUtil:[function(t,e,o){"use strict";cc._RF.push(e,"ef710YNW89Hoab6++X7Zwr3","MathUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.randomRangeFloat=function(t,e){return t+Math.random()*(e-t)},t.randomRangeInt=function(t,e){return Math.floor(t+Math.random()*(e-t))},t.calcBezierControlPoints=function(t,e,o){var i=[.3,.7],n=cc.v2();cc.Vec2.lerp(n,t,e,i[0]),n.addSelf(o);var s=cc.v2();return cc.Vec2.lerp(s,t,e,i[1]),s.addSelf(o.mulSelf(i[0])),[n,s]},t.randomUuid=function(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",o="",i=0;i<t;i++)o+=e.charAt(this.randomRangeInt(0,e.length));return o},t.randomScreenPos=function(){return cc.v2(this.randomRangeFloat(.5*-cc.winSize.width,.5*cc.winSize.width),this.randomRangeFloat(.5*-cc.winSize.height,.5*cc.winSize.height))},t}();o.default=i,cc._RF.pop()},{}],Messages:[function(t,e,o){"use strict";cc._RF.push(e,"d7621gVWJlFyJL4ySNuqG+T","Messages"),Object.defineProperty(o,"__esModule",{value:!0}),o.Messages=void 0;var i=function(){function t(){}return t.Managers={SettingCall:"onManagersSettingCall"},t.Nodes={StateChangeRun:"onNodesStateChangeRun",StateChangePause:"onNodesStateChangePause",StateChangeStop:"onNodesStateChangeStop",ThingSetChangeScale:"onNodesThingSetChangeScale",ThingSetChangeFade:"onNodesThingSetChangeFade",ThingSetChangeMove:"onNodesThingSetChangeMove",ThingSetChangeWhirling:"onNodesThingSetChangeWhirling",ThingSetChangeActive:"onNodesThingSetChangeActive",ScratcherFeedbackProportion:"onNodesScratcherFeedbackProportion",ScratcherFeedbackFullfill:"onNodesScratcherFeedbackFullfill",WheelRollStart:"onNodesWheelRollStart",WheelRollStop:"onNodesWheelRollStop",WheelAnglesSet:"onNodesWheelAnglesSet",WheelFeedbackStop:"onNodesWheelFeedbackStop",StopTextPrintWord:"onNodesStopTextPrintWord",BoxRadiusChangeRatio:"onBoxRadiusChangeRatio",BoxRadiusChangeSize:"onBoxRadiusChangeSize",UIDropdownSelect:"onUIDropdownSelect",DblClick:"onDblClick",LongPress:"onLongPress"},t.Global={ManagerLoaded:"onManagerLoaded",AllManagersLoaded:"onAllManagersLoaded",UserDataReady:"onUserDataReady",UserIdentityConfirmed:"onUserIdentityConfirmed",NoLetterDefinedInTextures:"onNoLetterDefinedInTextures",LanguageChanged:"onLanguageChanged",LayerLevelsChanged:"onLayerLevelsChanged"},t}();o.Messages=i,cc._RF.pop()},{}],MgrAudio:[function(t,e,o){"use strict";cc._RF.push(e,"4e516F4tT5AR6zPsxu2dMPV","MgrAudio");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,a=r.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.volGlobal=1,e.volBGM=1,e.s_BGM=null,e.s_audios=[],e.musicBG=new cc.AudioSource,e.voiceOver=new cc.AudioSource,e.mapMusic=new Map,e.loopMusic=new Map,e}var o;return n(e,t),o=e,e.prototype.onLoad=function(){o.Instance=this},e.prototype.start=function(){var t=this;this.musicBG.clip=this.s_BGM,this.musicBG.node=this.node,this.voiceOver.node=this.node,this.s_audios.forEach(function(e,o){var i=new cc.AudioSource;i.node=t.node,i.clip=t.s_audios[o],t.mapMusic.set(o,i)})},e.prototype.PlayBGMusic=function(){this.musicBG.isPlaying||(this.musicBG.play(),this.musicBG.volume=this.volBGM*this.volGlobal,this.musicBG.loop=!0)},e.prototype.StopBGMusic=function(){this.musicBG.isPlaying&&this.musicBG.stop()},e.prototype.PlayMusic=function(t,e,o,i){void 0===e&&(e=!1),void 0===o&&(o=1),void 0===i&&(i=!1);var n=this.mapMusic.get(t);i&&n.isPlaying||(n.loop=e,n.volume=o*this.volGlobal,n.play())},e.prototype.StopMusic=function(t,e){void 0===e&&(e=!1);var o=this.mapMusic.get(t);o.loop=e,o.stop()},e.prototype.StopLoopingMusic=function(t){this.mapMusic.get(t).stop(),this.mapMusic.get(t).loop=!1},e.prototype.StopMutipMusic=function(t){this.loopMusic.has(t)&&this.loopMusic.get(t).stop()},e.prototype.GetAudioByName=function(t){return this.mapMusic.has(t)?this.mapMusic.get(t):null},e.prototype.StopAll=function(){this.StopBGMusic(),this.voiceOver.stop(),this.mapMusic.forEach(function(t){t.stop()}),this.loopMusic.forEach(function(t){t.stop()})},e.prototype.forcePlayMusic=function(t,e,o,i){void 0===e&&(e=!1),void 0===o&&(o=1),void 0===i&&(i=1);var n=this.mapMusic.get(t);if(n.isPlaying){var s=new cc.Node("tmpAuNode");n.node.parent.addChild(s);var r=s.addComponent(cc.AudioSource);r.clip=n.clip,r.loop=e,r.volume=o*this.volGlobal,r.play(),this.scheduleOnce(function(){s.destroy()},i)}else this.PlayMusic(t,e,o)},e.Instance=null,s([a({min:0,max:1})],e.prototype,"volGlobal",void 0),s([a({min:0,max:1})],e.prototype,"volBGM",void 0),s([a(cc.AudioClip)],e.prototype,"s_BGM",void 0),s([a({type:[cc.AudioClip]})],e.prototype,"s_audios",void 0),o=s([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],MoveThing:[function(t,e,o){"use strict";cc._RF.push(e,"521c0xH1axJo4mduhcuAOMq","MoveThing");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../constants/Algorithm"),c=t("../../constants/Constant"),a=t("../../constants/Messages"),u=cc._decorator,h=u.ccclass,p=u.property,l=u.menu,d=c.Constant.EaseAction,f=c.Constant.EaseFunction,_=c.Constant.RunningState,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mode=_.Idle,e.isConstantSpeed=!1,e._easeAction=d.easeCubicIn,e.isLoop=!1,e.isAuto=!1,e.cycleTimes=1,e.moveItems=[],e.callTag=0,e._tikPast=0,e._itemCursor=0,e._moveOff=cc.v3(),e._posPrevious=cc.v3(),e._numPer=0,e._cycleTimes=0,e._easeFunction=null,e}return n(e,t),Object.defineProperty(e.prototype,"easeAction",{get:function(){return this._easeAction},set:function(t){this._easeAction=t,this._easeFunction=r.Algorithm[f[t]]},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._initEvents(),this._easeFunction=r.Algorithm[f[this._easeAction]]},e.prototype.onEnable=function(){this.isAuto&&(this.mode=c.Constant.RunningState.Running),this.cycleTimes<1&&(this.cycleTimes=1),this._cycleTimes=this.cycleTimes,this._itemCursor=0,this._tikPast=0,this._posPrevious=cc.v3(this.node.getPosition())},e.prototype.start=function(){},e.prototype.update=function(t){this._calculate(t)},e.prototype._initEvents=function(){var t=this;this.node.on(a.Messages.Nodes.StateChangePause,function(){t.mode=c.Constant.RunningState.Paused},this),this.node.on(a.Messages.Nodes.StateChangeRun,function(e,o){void 0===o&&(o=!0),o&&t.onEnable(),null!=e&&e!=t.callTag||(t.mode=c.Constant.RunningState.Running)},this),this.node.on(a.Messages.Nodes.StateChangeStop,function(){t.mode=c.Constant.RunningState.Stop},this),this.node.on(a.Messages.Nodes.ThingSetChangeMove,function(e){e&&(t.moveItems=e),t._itemCursor=0,t._tikPast=0},this)},e.prototype._calculate=function(t){switch(void 0===t&&(t=0),this.mode){case c.Constant.RunningState.Running:if(this.moveItems.length<=0)return;this._tikPast=this._tikPast+t,this._numPer=this.isConstantSpeed?this._tikPast/this.moveItems[this._itemCursor].x:this._easeFunction(this._tikPast/this.moveItems[this._itemCursor].x),this._moveOff.x=this._numPer*(this.moveItems[this._itemCursor].y-this._posPrevious.x),this._moveOff.y=this._numPer*(this.moveItems[this._itemCursor].z-this._posPrevious.y),this._moveOff.z=this._numPer*(this.moveItems[this._itemCursor].w-this._posPrevious.z);break;default:return}if(this.node.setPosition(this._posPrevious.add(this._moveOff.clone())),this._tikPast>=this.moveItems[this._itemCursor].x&&(this.node.setPosition(this.moveItems[this._itemCursor].y,this.moveItems[this._itemCursor].z,this.moveItems[this._itemCursor].w),this._tikPast=this._tikPast-this.moveItems[this._itemCursor].x,this._posPrevious.x=this.moveItems[this._itemCursor].y,this._posPrevious.y=this.moveItems[this._itemCursor].z,this._posPrevious.z=this.moveItems[this._itemCursor].w,this._itemCursor++),this._itemCursor>=this.moveItems.length){if(this._itemCursor=0,this.isLoop)return;if(this._cycleTimes--,this._cycleTimes<1)return void(this.mode=c.Constant.RunningState.Idle)}},s([p({type:cc.Enum(c.Constant.RunningState)})],e.prototype,"mode",void 0),s([p],e.prototype,"isConstantSpeed",void 0),s([p],e.prototype,"_easeAction",void 0),s([p({type:cc.Enum(d),visible:function(){return!this.isConstantSpeed}})],e.prototype,"easeAction",null),s([p],e.prototype,"isLoop",void 0),s([p],e.prototype,"isAuto",void 0),s([p],e.prototype,"cycleTimes",void 0),s([p([cc.Vec4])],e.prototype,"moveItems",void 0),s([p],e.prototype,"callTag",void 0),s([h,l("Tweens/MoveThing")],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../constants/Algorithm":"Algorithm","../../constants/Constant":"Constant","../../constants/Messages":"Messages"}],PictureSelfCycle:[function(t,e,o){"use strict";cc._RF.push(e,"61a9f2Bn2pPyoOPdzw+pIXo","PictureSelfCycle");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,a=r.property,u=r.executeInEditMode,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.direction=cc.v2(1,1),e.speed=1,e.isPaused=!1,e._mat=null,e._curTime=0,e}return n(e,t),e.prototype.onLoad=function(){this._mat=this.node.getComponent(cc.Sprite).getMaterial(0),this._mat.setProperty("direction",this.direction)},e.prototype.update=function(t){this.isPaused||(this._curTime+=t*this.speed,this._mat.setProperty("time",this._curTime))},s([a(cc.Vec2)],e.prototype,"direction",void 0),s([a],e.prototype,"speed",void 0),s([a],e.prototype,"isPaused",void 0),s([c,u],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],ScaleThing:[function(t,e,o){"use strict";cc._RF.push(e,"38e97A5tbNN3JWZL841qBE5","ScaleThing");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../constants/Algorithm"),c=t("../../constants/Constant"),a=t("../../constants/Messages"),u=cc._decorator,h=u.ccclass,p=u.property,l=u.menu,d=c.Constant.EaseAction,f=c.Constant.EaseFunction,_=c.Constant.RunningState,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mode=_.Idle,e.isConstantSpeed=!1,e._easeAction=d.easeCubicIn,e.isLoop=!1,e.isAuto=!1,e.cycleTimes=1,e.scaleItems=[],e.callTag=0,e._tikPast=0,e._itemCursor=0,e._scaleOff=cc.v3(),e._numPrevious=cc.v3(),e._numPer=0,e._cycleTimes=0,e._easeFunction=null,e}return n(e,t),Object.defineProperty(e.prototype,"easeAction",{get:function(){return this._easeAction},set:function(t){this._easeAction=t,this._easeFunction=r.Algorithm[f[t]]},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._initEvents(),this._easeFunction=r.Algorithm[f[this._easeAction]]},e.prototype.onEnable=function(){this.isAuto&&(this.mode=_.Running),this.cycleTimes<1&&(this.cycleTimes=1),this._cycleTimes=this.cycleTimes,this._itemCursor=0,this._tikPast=0,this.node.getScale(this._numPrevious)},e.prototype.start=function(){},e.prototype.update=function(t){this._calculate(t)},e.prototype._initEvents=function(){var t=this;this.node.on(a.Messages.Nodes.StateChangePause,function(){t.mode=_.Paused},this),this.node.on(a.Messages.Nodes.StateChangeRun,function(e,o){void 0===o&&(o=!0),o&&t.onEnable(),null!=e&&e!=t.callTag||(t.mode=c.Constant.RunningState.Running)},this),this.node.on(a.Messages.Nodes.StateChangeStop,function(){t.mode=_.Stop},this),this.node.on(a.Messages.Nodes.ThingSetChangeScale,function(e){e&&(t.scaleItems=e),t._itemCursor=0,t._tikPast=0},this)},e.prototype._calculate=function(t){switch(void 0===t&&(t=0),this.mode){case _.Running:if(this.scaleItems.length<=0)return;this._tikPast=this._tikPast+t,this._numPer=this.isConstantSpeed?this._tikPast/this.scaleItems[this._itemCursor].x:this._easeFunction(this._tikPast/this.scaleItems[this._itemCursor].x),this._scaleOff.x=this._numPer*(this.scaleItems[this._itemCursor].y-this._numPrevious.x),this._scaleOff.y=this._numPer*(this.scaleItems[this._itemCursor].z-this._numPrevious.y),this._scaleOff.z=this._numPer*(this.scaleItems[this._itemCursor].w-this._numPrevious.z);break;default:return}if(this.node.setScale(this._numPrevious.x+this._scaleOff.x,this._numPrevious.y+this._scaleOff.y,this._numPrevious.z+this._scaleOff.z),this._tikPast>=this.scaleItems[this._itemCursor].x&&(this.node.setScale(this.scaleItems[this._itemCursor].y,this.scaleItems[this._itemCursor].z,this.scaleItems[this._itemCursor].w),this._tikPast=this._tikPast-this.scaleItems[this._itemCursor].x,this._numPrevious.x=this.scaleItems[this._itemCursor].y,this._numPrevious.y=this.scaleItems[this._itemCursor].z,this._numPrevious.z=this.scaleItems[this._itemCursor].w,this._itemCursor++),this._itemCursor>=this.scaleItems.length){if(this._itemCursor=0,this.isLoop)return;if(this._cycleTimes--,this._cycleTimes<1)return void(this.mode=_.Idle)}},s([p({type:cc.Enum(c.Constant.RunningState)})],e.prototype,"mode",void 0),s([p],e.prototype,"isConstantSpeed",void 0),s([p],e.prototype,"_easeAction",void 0),s([p({type:cc.Enum(d),visible:function(){return!this.isConstantSpeed}})],e.prototype,"easeAction",null),s([p],e.prototype,"isLoop",void 0),s([p],e.prototype,"isAuto",void 0),s([p],e.prototype,"cycleTimes",void 0),s([p([cc.Vec4])],e.prototype,"scaleItems",void 0),s([p],e.prototype,"callTag",void 0),s([h,l("Tweens/ScaleThing")],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../constants/Algorithm":"Algorithm","../../constants/Constant":"Constant","../../constants/Messages":"Messages"}],SweepLight:[function(t,e,o){"use strict";cc._RF.push(e,"5e8c1Ar3mxOT5TR1kt/ZYDV","SweepLight");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,a=r.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lightColor=cc.Color.WHITE,e.lightAngle=80,e.lightWidth=.2,e.swpeepTime=1,e.totalTime=5,e.reverse=!1,e._mat=null,e._startPoint=null,e._endPoint=null,e._stepPoint=null,e._curPoint=null,e._curTime=0,e}return n(e,t),e.prototype.start=function(){var t=this.node.getComponent(cc.Sprite)||this.node.getComponent(cc.Label);this._mat=t.getMaterial(0),this.reset()},e.prototype.reset=function(){var t=2*this.lightWidth;this._startPoint=cc.v2(-t,-t),this._endPoint=cc.v2(1+t,1+t),this._stepPoint=this._endPoint.sub(this._startPoint).div(this.swpeepTime),this._curPoint=this.reverse?this._endPoint.clone():this._startPoint.clone(),this._curTime=0,this._mat.setProperty("lightColor",this.lightColor),this._mat.setProperty("lightAngle",this.lightAngle),this._mat.setProperty("lightWidth",this.lightWidth),this._mat.setProperty("lightCenterPoint",this._curPoint)},e.prototype.update=function(t){this._curTime+=t,this._curTime<=this.swpeepTime&&(this.reverse?this._curPoint.subSelf(this._stepPoint.mul(t)):this._curPoint.addSelf(this._stepPoint.mul(t)),this._mat.setProperty("lightCenterPoint",this._curPoint)),this._curTime>=this.totalTime&&(this._curTime=0,this._curPoint=this.reverse?this._endPoint.clone():this._startPoint.clone())},s([a],e.prototype,"lightColor",void 0),s([a({type:cc.Float,min:0,max:180})],e.prototype,"lightAngle",void 0),s([a({type:cc.Float,min:0,max:1})],e.prototype,"lightWidth",void 0),s([a],e.prototype,"swpeepTime",void 0),s([a],e.prototype,"totalTime",void 0),s([a],e.prototype,"reverse",void 0),s([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],TextUtil:[function(t,e,o){"use strict";cc._RF.push(e,"11a7ffZFYlK84z9ItPyfk70","TextUtil"),Object.defineProperty(o,"__esModule",{value:!0}),o.deepCopy=void 0,o.deepCopy=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){cc.error(e)}return null},cc._RF.pop()},{}],TopHandler:[function(t,e,o){"use strict";cc._RF.push(e,"6d5604MOEBOqaAMIUMMHuzg","TopHandler");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./MgrAudio"),c=cc._decorator,a=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isFirstTouch=!0,e}return n(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node._touchListener.swallowTouches=!1},e.prototype.start=function(){},e.prototype.onTouchStart=function(){this._isFirstTouch&&(this._isFirstTouch=!1,r.default.Instance.PlayBGMusic())},s([a],e)}(cc.Component));o.default=u,cc._RF.pop()},{"./MgrAudio":"MgrAudio"}],TouchEvent:[function(t,e,o){"use strict";cc._RF.push(e,"1431cHVf2ZEnrUYSzA8B0Gt","TouchEvent");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.TouchEventType=void 0;var r=t("../../constants/Messages"),c=cc._decorator,a=c.ccclass,u=c.property;(function(t){t[t.DblClick=0]="DblClick",t[t.LongPress=1]="LongPress"})(o.TouchEventType||(o.TouchEventType={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eventNode=null,e._dblClickThreshold=.15,e._longPressThreshold=1,e._lastTouchTime=-1,e}return n(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},e.prototype.onTouchStart=function(){(new Date).getTime()/1e3-this._lastTouchTime<=this._dblClickThreshold?cc.isValid(this.eventNode)&&this.eventNode.emit(r.Messages.Nodes.DblClick):this.scheduleOnce(this.onLongPress,this._longPressThreshold)},e.prototype.onTouchEnd=function(){this.unschedule(this.onLongPress),this._lastTouchTime=(new Date).getTime()/1e3},e.prototype.onTouchCancel=function(){this.unschedule(this.onLongPress)},e.prototype.onLongPress=function(){cc.isValid(this.eventNode)&&this.eventNode.emit(r.Messages.Nodes.LongPress)},s([u(cc.Node)],e.prototype,"eventNode",void 0),s([a],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../constants/Messages":"Messages"}],TransparentGradient:[function(t,e,o){"use strict";cc._RF.push(e,"ef4dazGtkVOX6JqZ1tJww+h","TransparentGradient");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,a=r.property,u=r.executeInEditMode,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.upColor=cc.Color.WHITE,e.downColor=cc.Color.WHITE,e._mat=null,e}return n(e,t),Object.defineProperty(e.prototype,"refresh",{get:function(){return!1},set:function(){this.updateProperties()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){var t=this.node.getComponent(cc.Sprite)||this.node.getComponent(cc.Label);this._mat=t.getMaterial(0),this.updateProperties()},e.prototype.start=function(){},e.prototype.updateProperties=function(){this._mat.setProperty("upColor",this.upColor),this._mat.setProperty("downColor",this.downColor)},s([a],e.prototype,"upColor",void 0),s([a],e.prototype,"downColor",void 0),s([a],e.prototype,"refresh",null),s([c,u],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],WhirlingThing:[function(t,e,o){"use strict";cc._RF.push(e,"9b22av+huNNr7mXRtA4bCrH","WhirlingThing");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../constants/Algorithm"),c=t("../../constants/Constant"),a=t("../../constants/Messages"),u=cc._decorator,h=u.ccclass,p=u.property,l=u.menu,d=c.Constant.EaseAction,f=c.Constant.EaseFunction,_=c.Constant.RunningState,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mode=_.Idle,e.direction=c.Constant.Direction.Left,e.isConstantSpeed=!1,e._easeAction=d.easeCubicIn,e.isLoop=!1,e.isAuto=!1,e.cycleTimes=1,e.callTag=0,e.whirlingItems=[cc.v2(0,0),cc.v2(1,360),cc.v2(0,0)],e._tikPast=0,e._itemCursor=0,e._angleOff=0,e._anglePrevious=0,e._numPer=0,e._angleFoward=1,e._cycleTimes=0,e._easeFunction=null,e}return n(e,t),Object.defineProperty(e.prototype,"easeAction",{get:function(){return this._easeAction},set:function(t){this._easeAction=t,this._easeFunction=r.Algorithm[f[t]]},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._initEvents(),this._easeFunction=r.Algorithm[f[this._easeAction]]},e.prototype.onEnable=function(){this.isAuto&&(this.mode=c.Constant.RunningState.Running),this.cycleTimes<1&&(this.cycleTimes=1),this._cycleTimes=this.cycleTimes,this._itemCursor=0,this._tikPast=0,this._anglePrevious=this.node.angle},e.prototype.start=function(){},e.prototype._initEvents=function(){var t=this;this.node.on(a.Messages.Nodes.StateChangePause,function(){t.mode=c.Constant.RunningState.Paused},this),this.node.on(a.Messages.Nodes.StateChangeRun,function(e,o){void 0===o&&(o=!0),o&&t.onEnable(),null!=e&&e!=t.callTag||(t.mode=c.Constant.RunningState.Running)},this),this.node.on(a.Messages.Nodes.StateChangeStop,function(){t.mode=c.Constant.RunningState.Stop},this),this.node.on(a.Messages.Nodes.ThingSetChangeWhirling,function(e){e&&(t.whirlingItems=e),t._itemCursor=0,t._tikPast=0},this)},e.prototype.update=function(t){this._calculate(t)},e.prototype._calculate=function(t){switch(void 0===t&&(t=0),this.mode){case c.Constant.RunningState.Running:if(this.whirlingItems.length<=0)return;switch(this.direction){case c.Constant.Direction.Left:this._angleFoward=1;break;case c.Constant.Direction.Right:this._angleFoward=-1}this._tikPast=this._tikPast+t,this._numPer=this.isConstantSpeed?this._tikPast/this.whirlingItems[this._itemCursor].x:this._easeFunction(this._tikPast/this.whirlingItems[this._itemCursor].x),this._angleOff=this._numPer*(this.whirlingItems[this._itemCursor].y-this._anglePrevious)*this._angleFoward;break;default:return}if(this.node.angle=this._anglePrevious+this._angleOff,this._tikPast>=this.whirlingItems[this._itemCursor].x&&(this.node.angle=this.whirlingItems[this._itemCursor].y,this._tikPast=this._tikPast-this.whirlingItems[this._itemCursor].x,this._anglePrevious=this.whirlingItems[this._itemCursor].y,this._itemCursor++),this._itemCursor>=this.whirlingItems.length){if(this._itemCursor=0,this.isLoop)return;if(this._cycleTimes--,this._cycleTimes<1)return void(this.mode=c.Constant.RunningState.Idle)}},s([p({type:cc.Enum(c.Constant.RunningState)})],e.prototype,"mode",void 0),s([p({type:cc.Enum(c.Constant.Direction)})],e.prototype,"direction",void 0),s([p],e.prototype,"isConstantSpeed",void 0),s([p],e.prototype,"_easeAction",void 0),s([p({type:cc.Enum(d),visible:function(){return!this.isConstantSpeed}})],e.prototype,"easeAction",null),s([p],e.prototype,"isLoop",void 0),s([p],e.prototype,"isAuto",void 0),s([p],e.prototype,"cycleTimes",void 0),s([p],e.prototype,"callTag",void 0),s([p([cc.Vec2])],e.prototype,"whirlingItems",void 0),s([h,l("Tweens/WhirlingThing")],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../constants/Algorithm":"Algorithm","../../constants/Constant":"Constant","../../constants/Messages":"Messages"}],confeti:[function(t,e,o){"use strict";cc._RF.push(e,"471b6GTG8hP867ljTRgEmrj","confeti");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,a=r.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.imageAtlas=null,e.is3D=!1,e.anchDest=null,e.part=null,e.imgUsedIndex=0,e.imgTypeAmnt=4,e._particle=null,e}return n(e,t),e.prototype.onLoad=function(){this._particle=this.part.getComponent(cc.ParticleSystem3D)},e.prototype.onEnable=function(){this.is3D?this._rotEular():this._rotAngle(),this._particle.textureAnimationModule.numTilesX=this.imgTypeAmnt,this._particle.textureAnimationModule.startFrame.constant=this.imgUsedIndex},e.prototype.start=function(){},e.prototype._rotAngle=function(){var t=cc.v2();cc.Vec2.normalize(t,this.anchDest.getPosition());var e=cc.misc.radiansToDegrees(t.signAngle(cc.v2(0,1)));this._particle.shapeModule.rotation=cc.v3(e,-90)},e.prototype._rotEular=function(){},s([a(cc.SpriteFrame)],e.prototype,"imageAtlas",void 0),s([a],e.prototype,"is3D",void 0),s([a(cc.Node)],e.prototype,"anchDest",void 0),s([a(cc.Node)],e.prototype,"part",void 0),s([a],e.prototype,"imgUsedIndex",void 0),s([a],e.prototype,"imgTypeAmnt",void 0),s([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],main:[function(t,e,o){"use strict";cc._RF.push(e,"248e1SCw/5CQ67GBHW9xsL4","main");var i=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});const{ccclass:n,property:s}=cc._decorator;let r=class extends cc.Component{constructor(){super(...arguments),this.giftBoxNode=null,this.pgBarSpr=null,this.pgLab=null,this.bonusNode=null,this._lastAccVal=-999,this._curPg=0,this._pgDecPerDt=.01,this._giftBoxMoveThreshold=.2,this._giftBoxMoveFlag=!1,this._giftBoxOffsetRange=64}onLoad(){cc.systemEvent.setAccelerometerEnabled(!0),cc.systemEvent.on(cc.SystemEvent.EventType.DEVICEMOTION,this.onDeviceMotionEvent,this)}start(){cc.game.setFrameRate(59),this.pgBarSpr.fillRange=0}onDeviceMotionEvent(t){-999!=this._lastAccVal&&this._curPg<1&&(this._curPg+=.05*Math.abs(this._lastAccVal-(t.acc.x+t.acc.y+t.acc.z)),this._curPg>1&&(this._curPg=1,this.bonusNode.active=!0,cc.systemEvent.setAccelerometerEnabled(!1),cc.systemEvent.off(cc.SystemEvent.EventType.DEVICEMOTION))),this._lastAccVal=t.acc.x+t.acc.y+t.acc.z,this.giftBoxNode.setPosition(t.acc.x*this._giftBoxOffsetRange,t.acc.y*this._giftBoxOffsetRange)}update(t){this._curPg>=1||(this.pgBarSpr.fillRange=this._curPg,this.pgLab.string=Math.round(100*this._curPg)+"%")}};i([s(cc.Node)],r.prototype,"giftBoxNode",void 0),i([s(cc.Sprite)],r.prototype,"pgBarSpr",void 0),i([s(cc.Label)],r.prototype,"pgLab",void 0),i([s(cc.Node)],r.prototype,"bonusNode",void 0),r=i([n],r),o.default=r,cc._RF.pop()},{}]},{},["Algorithm","Constant","Messages","BoxRadius","PictureSelfCycle","TransparentGradient","CaptureMask","GussainBlur","CircleGradient","LayerLayout","ListView","SweepLight","TouchEvent","confeti","BorderShapeCycler","CanvasUtil","CoordinateUtil","FormatUtil","HttpUtil","MathUtil","TextUtil","ActiveThing","FadeThing","InitThing","MoveThing","ScaleThing","WhirlingThing","DebugHelper","MgrAudio","TopHandler","main"]);